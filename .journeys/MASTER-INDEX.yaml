# Foundation-First Architecture - Master Index
# Shows how all 7 layers connect

version: "1.0"
description: "Complete foundation scaffold for psychology-driven development"

layers:
  1_psychology:
    name: "Psychology Foundation"
    files:
      - psychology/persuasion-protocols.yaml
    provides:
      - cialdini_principles
      - fogg_behavior_model
      - cognitive_psychology
    consumed_by: [personas, journeys, emotions]

  2_personas:
    name: "User Definition"
    files:
      - personas/_index.yaml
      - personas/*.yaml
    requires: [psychology]
    provides:
      - user_profiles
      - behavioral_triggers
      - motivation_levels
    consumed_by: [journeys, emotions]

  3_journeys:
    name: "Journey Mapping"
    files:
      - journeys/_index.yaml
      - journeys/*.yaml
    requires: [personas]
    provides:
      - stages
      - steps
      - routes
      - success_criteria
    consumed_by: [emotions, scenarios, metrics]

  4_emotions:
    name: "Emotional Architecture"
    files:
      - emotions/*.yaml
    requires: [journeys, psychology]
    provides:
      - emotional_states
      - anxiety_reducers
      - microcopy_recommendations
    consumed_by: [scenarios, heuristics]

  5_scenarios:
    name: "Acceptance Criteria"
    files:
      - scenarios/*.feature
    requires: [journeys, emotions]
    provides:
      - bdd_scenarios
      - happy_path_tests
      - error_edge_cases
    consumed_by: [validation]

  6_quality:
    name: "Quality Standards"
    files:
      - heuristics/nielsen-checklist.yaml
      - heuristics/page-scores.yaml
    requires: [journeys, emotions]
    provides:
      - heuristic_evaluation
      - quality_gates
      - page_scores
    consumed_by: [validation]

  7_business:
    name: "Business Alignment"
    files:
      - metrics/aarrr-framework.yaml
      - funnel/sales-funnel-integration.yaml
    requires: [journeys]
    provides:
      - aarrr_metrics
      - funnel_mapping
      - campaign_integration
    consumed_by: [validation]

  structural:
    name: "Structural Completeness"
    files:
      - structural/missing-states-checklist.yaml
    provides:
      - component_states
      - completeness_checks
    consumed_by: [validation]

validation:
  script: validation/journey-validator.ts
  checks:
    - all_personas_have_psychology
    - all_journeys_have_personas
    - all_steps_have_emotions
    - all_components_have_8_states
    - all_journeys_have_metrics
